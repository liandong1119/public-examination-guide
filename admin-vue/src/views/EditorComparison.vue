<template>
  <div class="editor-comparison">
    <div class="comparison-header">
      <h1>ğŸ“ VitePressç¼–è¾‘å™¨å¯¹æ¯”</h1>
      <p>æ¯”è¾ƒä¸åŒç‰ˆæœ¬çš„VitePressæ–‡æ¡£ç¼–è¾‘å™¨åŠŸèƒ½å’Œæ€§èƒ½</p>
    </div>

    <div class="editor-cards">
      <!-- ä¼˜åŒ–ç‰ˆç¼–è¾‘å™¨ -->
      <div class="editor-card recommended">
        <div class="card-header">
          <h3>ğŸš€ ä¼˜åŒ–ç‰ˆç¼–è¾‘å™¨</h3>
          <span class="badge recommended-badge">æ¨è</span>
        </div>
        <div class="card-content">
          <div class="features">
            <h4>âœ¨ ä¸»è¦ç‰¹æ€§</h4>
            <ul>
              <li>ğŸ¯ ç®€æ´ç›´è§‚çš„ç•Œé¢è®¾è®¡</li>
              <li>âš¡ ä¼˜åŒ–çš„æ€§èƒ½å’Œå“åº”é€Ÿåº¦</li>
              <li>ğŸ”„ å®æ—¶é¢„è§ˆåŒæ­¥æ»šåŠ¨</li>
              <li>ğŸ“± å®Œå…¨å“åº”å¼è®¾è®¡</li>
              <li>ğŸ¨ ä¸°å¯Œçš„ç»„ä»¶æ’å…¥åŠŸèƒ½</li>
              <li>ğŸ’¾ è‡ªåŠ¨ä¿å­˜å’Œå¿«æ·é”®æ”¯æŒ</li>
              <li>ğŸ” æ–‡ä»¶æœç´¢å’Œç®¡ç†</li>
              <li>ğŸ“¤ HTMLå¯¼å‡ºåŠŸèƒ½</li>
            </ul>
          </div>
          <div class="improvements">
            <h4>ğŸ› ï¸ ä¼˜åŒ–æ”¹è¿›</h4>
            <ul>
              <li>è§£å†³äº†å…‰æ ‡è·³åŠ¨é—®é¢˜</li>
              <li>æ”¹è¿›äº†é¢„è§ˆåŒæ­¥æœºåˆ¶</li>
              <li>ä¼˜åŒ–äº†ç¼–è¾‘å™¨æ€§èƒ½</li>
              <li>ç®€åŒ–äº†ç”¨æˆ·ç•Œé¢</li>
              <li>å¢å¼ºäº†æ–‡ä»¶ç®¡ç†åŠŸèƒ½</li>
            </ul>
          </div>
        </div>
        <div class="card-actions">
          <el-button type="primary" @click="openEditor('optimized')">
            ğŸš€ ä½¿ç”¨ä¼˜åŒ–ç‰ˆç¼–è¾‘å™¨
          </el-button>
        </div>
      </div>

      <!-- åŸç‰ˆç¼–è¾‘å™¨ -->
      <div class="editor-card">
        <div class="card-header">
          <h3>ğŸ“š åŸç‰ˆç¼–è¾‘å™¨</h3>
          <span class="badge">åŠŸèƒ½å®Œæ•´</span>
        </div>
        <div class="card-content">
          <div class="features">
            <h4>ğŸ“‹ åŠŸèƒ½ç‰¹æ€§</h4>
            <ul>
              <li>ğŸ¨ å››æ å¸ƒå±€è®¾è®¡</li>
              <li>ğŸ”§ ä¸°å¯Œçš„é…ç½®é€‰é¡¹</li>
              <li>ğŸ“¦ ç»„ä»¶ç®¡ç†ç³»ç»Ÿ</li>
              <li>ğŸ¯ å¯è§†åŒ–ç¼–è¾‘æ¨¡å¼</li>
              <li>ğŸ“Š æ–‡æ¡£ç»Ÿè®¡åŠŸèƒ½</li>
              <li>ğŸ”— ç»„ä»¶ç»‘å®šç®¡ç†</li>
            </ul>
          </div>
          <div class="issues">
            <h4>âš ï¸ å·²çŸ¥é—®é¢˜</h4>
            <ul>
              <li>ç•Œé¢å¤æ‚ï¼Œå­¦ä¹ æˆæœ¬é«˜</li>
              <li>å…‰æ ‡ä½ç½®è·³åŠ¨</li>
              <li>é¢„è§ˆåŒæ­¥ä¸ç¨³å®š</li>
              <li>æ€§èƒ½æœ‰å¾…ä¼˜åŒ–</li>
            </ul>
          </div>
        </div>
        <div class="card-actions">
          <el-button @click="openEditor('original')">
            ğŸ“š ä½¿ç”¨åŸç‰ˆç¼–è¾‘å™¨
          </el-button>
        </div>
      </div>

      <!-- ç®€åŒ–ç‰ˆç¼–è¾‘å™¨ -->
      <div class="editor-card">
        <div class="card-header">
          <h3>ğŸ¯ ç®€åŒ–ç‰ˆç¼–è¾‘å™¨</h3>
          <span class="badge">è½»é‡çº§</span>
        </div>
        <div class="card-content">
          <div class="features">
            <h4>ğŸˆ è½»é‡ç‰¹æ€§</h4>
            <ul>
              <li>ğŸ¯ ä¸“æ³¨äºç¼–è¾‘ä½“éªŒ</li>
              <li>âš¡ å¿«é€Ÿå¯åŠ¨å’Œå“åº”</li>
              <li>ğŸ¨ é¢„è®¾ç»„ä»¶æ¨¡æ¿</li>
              <li>ğŸ’¾ åŸºç¡€æ–‡ä»¶ç®¡ç†</li>
              <li>ğŸ‘ï¸ å®æ—¶é¢„è§ˆåŠŸèƒ½</li>
            </ul>
          </div>
          <div class="limitations">
            <h4>ğŸ”’ åŠŸèƒ½é™åˆ¶</h4>
            <ul>
              <li>åŠŸèƒ½ç›¸å¯¹ç®€å•</li>
              <li>ç¼ºå°‘é«˜çº§é…ç½®</li>
              <li>ç»„ä»¶ç®¡ç†æœ‰é™</li>
            </ul>
          </div>
        </div>
        <div class="card-actions">
          <el-button @click="openEditor('clean')">
            ğŸ¯ ä½¿ç”¨ç®€åŒ–ç‰ˆç¼–è¾‘å™¨
          </el-button>
        </div>
      </div>
    </div>

    <!-- åŠŸèƒ½å¯¹æ¯”è¡¨ -->
    <div class="comparison-table">
      <h2>ğŸ“Š åŠŸèƒ½å¯¹æ¯”è¡¨</h2>
      <el-table :data="comparisonData" style="width: 100%" border>
        <el-table-column prop="feature" label="åŠŸèƒ½ç‰¹æ€§" width="200" />
        <el-table-column prop="optimized" label="ä¼˜åŒ–ç‰ˆç¼–è¾‘å™¨" align="center">
          <template #default="scope">
            <span :class="getStatusClass(scope.row.optimized)">
              {{ getStatusText(scope.row.optimized) }}
            </span>
          </template>
        </el-table-column>
        <el-table-column prop="original" label="åŸç‰ˆç¼–è¾‘å™¨" align="center">
          <template #default="scope">
            <span :class="getStatusClass(scope.row.original)">
              {{ getStatusText(scope.row.original) }}
            </span>
          </template>
        </el-table-column>
        <el-table-column prop="clean" label="ç®€åŒ–ç‰ˆç¼–è¾‘å™¨" align="center">
          <template #default="scope">
            <span :class="getStatusClass(scope.row.clean)">
              {{ getStatusText(scope.row.clean) }}
            </span>
          </template>
        </el-table-column>
      </el-table>
    </div>

    <!-- ä½¿ç”¨å»ºè®® -->
    <div class="recommendations">
      <h2>ğŸ’¡ ä½¿ç”¨å»ºè®®</h2>
      <div class="recommendation-cards">
        <div class="recommendation-card">
          <h3>ğŸš€ æ¨èï¼šä¼˜åŒ–ç‰ˆç¼–è¾‘å™¨</h3>
          <p>é€‚åˆæ—¥å¸¸æ–‡æ¡£ç¼–è¾‘å’Œå†…å®¹åˆ›ä½œï¼Œæä¾›æœ€ä½³çš„ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½è¡¨ç°ã€‚</p>
          <ul>
            <li>âœ… æ–°ç”¨æˆ·é¦–é€‰</li>
            <li>âœ… æ—¥å¸¸æ–‡æ¡£ç¼–è¾‘</li>
            <li>âœ… è¿½æ±‚ç®€æ´é«˜æ•ˆ</li>
          </ul>
        </div>
        <div class="recommendation-card">
          <h3>ğŸ“š å¤‡é€‰ï¼šåŸç‰ˆç¼–è¾‘å™¨</h3>
          <p>é€‚åˆéœ€è¦å¤æ‚åŠŸèƒ½å’Œé«˜çº§é…ç½®çš„ä¸“ä¸šç”¨æˆ·ã€‚</p>
          <ul>
            <li>âœ… é«˜çº§ç”¨æˆ·</li>
            <li>âœ… å¤æ‚é¡¹ç›®ç®¡ç†</li>
            <li>âœ… éœ€è¦å®Œæ•´åŠŸèƒ½</li>
          </ul>
        </div>
        <div class="recommendation-card">
          <h3>ğŸ¯ ç‰¹æ®Šåœºæ™¯ï¼šç®€åŒ–ç‰ˆç¼–è¾‘å™¨</h3>
          <p>é€‚åˆå¿«é€Ÿç¼–è¾‘å’Œè½»é‡çº§ä½¿ç”¨åœºæ™¯ã€‚</p>
          <ul>
            <li>âœ… å¿«é€Ÿç¼–è¾‘</li>
            <li>âœ… æ€§èƒ½è¦æ±‚é«˜</li>
            <li>âœ… åŠŸèƒ½éœ€æ±‚ç®€å•</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { ElMessage } from 'element-plus'

const router = useRouter()

// åŠŸèƒ½å¯¹æ¯”æ•°æ®
const comparisonData = ref([
  { feature: 'ç•Œé¢è®¾è®¡', optimized: 'excellent', original: 'good', clean: 'good' },
  { feature: 'æ€§èƒ½è¡¨ç°', optimized: 'excellent', original: 'fair', clean: 'excellent' },
  { feature: 'ç¼–è¾‘ä½“éªŒ', optimized: 'excellent', original: 'fair', clean: 'good' },
  { feature: 'é¢„è§ˆåŒæ­¥', optimized: 'excellent', original: 'poor', clean: 'good' },
  { feature: 'æ–‡ä»¶ç®¡ç†', optimized: 'excellent', original: 'excellent', clean: 'fair' },
  { feature: 'ç»„ä»¶æ’å…¥', optimized: 'excellent', original: 'excellent', clean: 'good' },
  { feature: 'å¿«æ·é”®æ”¯æŒ', optimized: 'excellent', original: 'good', clean: 'fair' },
  { feature: 'å“åº”å¼è®¾è®¡', optimized: 'excellent', original: 'fair', clean: 'good' },
  { feature: 'è‡ªåŠ¨ä¿å­˜', optimized: 'excellent', original: 'good', clean: 'fair' },
  { feature: 'å¯¼å‡ºåŠŸèƒ½', optimized: 'excellent', original: 'good', clean: 'fair' }
])

const getStatusClass = (status) => {
  const classes = {
    excellent: 'status-excellent',
    good: 'status-good',
    fair: 'status-fair',
    poor: 'status-poor'
  }
  return classes[status] || ''
}

const getStatusText = (status) => {
  const texts = {
    excellent: 'ğŸŸ¢ ä¼˜ç§€',
    good: 'ğŸŸ¡ è‰¯å¥½',
    fair: 'ğŸŸ  ä¸€èˆ¬',
    poor: 'ğŸ”´ è¾ƒå·®'
  }
  return texts[status] || status
}

const openEditor = (type) => {
  const routes = {
    optimized: '/vitepress-editor',
    original: '/simple-vitepress',
    clean: '/vitepress'
  }
  
  const route = routes[type]
  if (route) {
    router.push(route)
    ElMessage.success(`æ­£åœ¨æ‰“å¼€${type === 'optimized' ? 'ä¼˜åŒ–ç‰ˆ' : type === 'original' ? 'åŸç‰ˆ' : 'ç®€åŒ–ç‰ˆ'}ç¼–è¾‘å™¨`)
  }
}
</script>

<style lang="scss" scoped>
.editor-comparison {
  padding: 24px;
  max-width: 1200px;
  margin: 0 auto;
}

.comparison-header {
  text-align: center;
  margin-bottom: 32px;

  h1 {
    font-size: 28px;
    color: #333;
    margin-bottom: 8px;
  }

  p {
    color: #666;
    font-size: 16px;
  }
}

.editor-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 24px;
  margin-bottom: 48px;
}

.editor-card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }

  &.recommended {
    border: 2px solid #409eff;
    position: relative;

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #409eff, #67c23a);
    }
  }
}

.card-header {
  padding: 20px;
  background: #f8f9fa;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  justify-content: space-between;
  align-items: center;

  h3 {
    margin: 0;
    color: #333;
    font-size: 18px;
  }
}

.badge {
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  background: #e9ecef;
  color: #495057;

  &.recommended-badge {
    background: #409eff;
    color: white;
  }
}

.card-content {
  padding: 20px;

  h4 {
    margin: 0 0 12px 0;
    color: #333;
    font-size: 14px;
  }

  ul {
    margin: 0;
    padding-left: 16px;
    
    li {
      margin-bottom: 6px;
      color: #555;
      font-size: 14px;
    }
  }

  .features {
    margin-bottom: 20px;
  }
}

.card-actions {
  padding: 20px;
  border-top: 1px solid #e9ecef;
  background: #f8f9fa;
}

.comparison-table {
  margin-bottom: 48px;

  h2 {
    margin-bottom: 20px;
    color: #333;
  }
}

.status-excellent { color: #67c23a; font-weight: 500; }
.status-good { color: #e6a23c; font-weight: 500; }
.status-fair { color: #f56c6c; font-weight: 500; }
.status-poor { color: #909399; font-weight: 500; }

.recommendations {
  h2 {
    margin-bottom: 20px;
    color: #333;
  }
}

.recommendation-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.recommendation-card {
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

  h3 {
    margin: 0 0 12px 0;
    color: #333;
    font-size: 16px;
  }

  p {
    margin: 0 0 16px 0;
    color: #666;
    font-size: 14px;
    line-height: 1.5;
  }

  ul {
    margin: 0;
    padding-left: 16px;

    li {
      margin-bottom: 4px;
      color: #555;
      font-size: 14px;
    }
  }
}

@media (max-width: 768px) {
  .editor-cards {
    grid-template-columns: 1fr;
  }
  
  .recommendation-cards {
    grid-template-columns: 1fr;
  }
}
</style>
